(window.webpackJsonpapp=window.webpackJsonpapp||[]).push([[0],{21:function(e,t,n){e.exports=n(36)},26:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(4),i=n.n(o),s=(n(26),n(6)),c=(n(31),n(2)),l=window.VK,u=function(){return function(e){e({type:"LOGIN_REQUEST"}),l.Auth.login(function(t){if(t.session){var n=t.session.user.first_name;e({type:"LOGIN_SUCCESS",payload:n}),localStorage.setItem("name",n)}else e({type:"LOGIN_FAIL",error:!0,payload:new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438")})},4)}},m=function(){return function(e){e({type:"LOGOUT_USER"}),l.Auth.logout(),localStorage.removeItem("name")}},f=function(e){return function(t){t({type:"GET_FRIENDS_REQUEST"}),l.Api.call("friends.get",{fields:"username",count:e,v:"5.80"},function(e){var n=e.response.items;e.error?t({type:"GET_FRIENDS_ERROR",payload:new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0441\u043f\u0438\u0441\u043a\u0430 \u0434\u0440\u0443\u0437\u0435\u0439")}):t({type:"GET_FRIENDS_SUCCESS",payload:n})})}},d=n(13),p=n(14),E=n(19),g=n(15),O=n(20),y=(n(32),function(e){var t=e.first_name,n=e.last_name;return a.a.createElement("h2",{className:"page-name"},"".concat(t," ").concat(n))}),b=(n(33),function(e){var t=e.friendList;return a.a.createElement(a.a.Fragment,null,a.a.createElement("h1",{className:"title"},"\u0421\u043f\u0438\u0441\u043e\u043a \u0434\u0440\u0443\u0437\u0435\u0439"),a.a.createElement("ul",{className:"list-friends"},t.map(function(e){return a.a.createElement("li",{className:"list-friends-item",key:e.id},a.a.createElement(y,{id:e.id,first_name:e.first_name,last_name:e.last_name}))})))}),v=b;b.defaultProps={friendList:[]};n(34);var L=function(e){function t(){return Object(d.a)(this,t),Object(E.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.getFriendsFromVK)(5)}},{key:"render",value:function(){var e=this.props,t=e.name,n=e.storageName,r=e.logoutUser,o=e.friendList,i=e.isLoading;return a.a.createElement("section",{className:"user-page"},a.a.createElement("div",{className:"wrapped-user-info"},a.a.createElement("div",{className:"user-info"},a.a.createElement("h2",null,"\u041f\u0440\u0438\u0432\u0435\u0442, ",t||n,"!"),null!==n?a.a.createElement("button",{className:"btn-logout",type:"button",onClick:r},"\u0412\u044b\u0445\u043e\u0434",a.a.createElement("i",{className:"fas fa-sign-out-alt"})):null)),i?a.a.createElement("p",null,"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."):a.a.createElement(v,{friendList:o}))}}]),t}(r.Component);L.defaultProps={getFriendsFromVK:function(){},storageName:"",friendList:[]};n(35);var S=function(e){var t=e.user,n=e.loginUserConnect,r=e.logoutUserConnect,o=e.getFriendsFromVKConnect,i=e.friendList,s=e.isLoading,c=localStorage.getItem("name");return t||c?a.a.createElement(L,{isLoading:s,name:t,storageName:c,logoutUser:r,friendList:i,getFriendsFromVK:o}):a.a.createElement("div",{className:"btn-wrapped"},a.a.createElement("button",{type:"button",className:"btn-login",onClick:n},a.a.createElement("span",null,a.a.createElement("i",{className:"fab fa-vk"})),"\u0412\u043e\u0439\u0442\u0438"))},N=Object(s.b)(function(e){return{user:e.name,friendList:e.friendList,isLoading:e.isLoading}},function(e){return Object(c.b)({loginUserConnect:u,logoutUserConnect:m,getFriendsFromVKConnect:f},e)})(S);S.defaultProps={user:"",getFriendsFromVKConnect:function(){},friendList:[]};var _=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(N,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var w=n(16),h=n(17),F=n.n(h),j=n(18);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(n,!0).forEach(function(t){Object(j.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var R={name:"",error:"",friendList:[],isLoading:!1},U=Object(c.d)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_REQUEST":return I({},e,{error:""});case"LOGIN_SUCCESS":return I({},e,{name:t.payload});case"LOGIN_FAIL":return I({},e,{error:t.payload.message});case"LOGOUT_USER":return I({},e,{error:"",name:t.payload});case"GET_FRIENDS_REQUEST":return I({},e,{isLoading:!0});case"GET_FRIENDS_SUCCESS":return I({},e,{isLoading:!1,friendList:t.payload});case"GET_FRIENDS_ERROR":return I({},e,{isLoading:!1,error:t.payload.message});default:return e}},Object(c.c)(Object(c.a)(w.a,F.a)));i.a.render(a.a.createElement(s.a,{store:U},a.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[21,1,2]]]);
//# sourceMappingURL=main.789e1842.chunk.js.map